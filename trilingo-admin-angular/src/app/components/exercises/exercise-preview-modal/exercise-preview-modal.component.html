<div class="modal-backdrop" *ngIf="isOpen" (click)="handleBackdropClick($event)">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>Mobile Preview</h2>
      <button mat-icon-button (click)="handleClose()" class="close-button">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <div class="modal-body">
      <div class="device-frame-container">
        <div class="device-frame">
          <div class="device-content">
            <app-activity-renderer
              *ngIf="hasValidData"
              [activityTypeId]="activityTypeId"
              [content]="parsedContent">
            </app-activity-renderer>

            <div *ngIf="!hasValidData" class="no-preview">
              <mat-icon>error_outline</mat-icon>
              <p>Unable to preview this exercise</p>
              <p class="error-detail" *ngIf="parsedContent?.error">{{ parsedContent.error }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
