<div class="device-preview">
  <div class="controls">
    <mat-button-toggle-group 
      [value]="device" 
      (change)="onDeviceChange($event)"
      class="control-group">
      <mat-button-toggle value="phone">
        <mat-icon>phone_iphone</mat-icon>
      </mat-button-toggle>
      <mat-button-toggle value="tablet">
        <mat-icon>tablet_mac</mat-icon>
      </mat-button-toggle>
    </mat-button-toggle-group>
    
    <mat-button-toggle-group 
      [value]="orientation" 
      (change)="onOrientationChange($event)"
      class="control-group">
      <mat-button-toggle value="portrait">
        <mat-icon>stay_current_portrait</mat-icon>
      </mat-button-toggle>
      <mat-button-toggle value="landscape">
        <mat-icon>stay_current_landscape</mat-icon>
      </mat-button-toggle>
    </mat-button-toggle-group>
  </div>
  
  <div class="preview-container">
    <mat-card 
      class="device-frame" 
      [ngClass]="[device, orientation]"
      [style]="getFrameStyles()">
      <div class="content-area">
        <app-activity-renderer 
          *ngIf="hasValidData" 
          [activityTypeId]="activityData.activityTypeId!"
          [content]="parsedContent">
        </app-activity-renderer>
        <div *ngIf="!hasValidData" class="placeholder-container">
          <p class="placeholder">
            Select an activity type and provide valid JSON content to see the preview.
          </p>
          <div class="preview-instructions" *ngIf="activityData.activityTypeId && !parsedContent">
            <p>Tip: After selecting an activity type, a template will be auto-populated.</p>
            <p>Fill in the required fields in the JSON editor and the preview will update automatically.</p>
          </div>
        </div>
      </div>
    </mat-card>
  </div>
</div>