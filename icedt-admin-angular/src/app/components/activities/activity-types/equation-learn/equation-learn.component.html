
    <div class="equation-learn-container">
      <h1 class="title">{{ content.title }}</h1>
      
      <p *ngIf="content.description" class="description">
        {{ content.description }}
      </p>

      <!-- Progress indicator -->
      <div class="progress">
        <p>{{ currentEquationIndex + 1 }} / {{ content.equations.length }}</p>
      </div>

      <!-- Main equation display -->
      <div class="equation-section">
        <div class="equation-display">
          <div class="equation-parts">
            <!-- Consonant -->
            <mat-card
              class="equation-card consonant-card"
              [class.active]="currentStep === 'consonant'"
              [class.completed]="currentStep === 'vowel' || currentStep === 'result' || currentStep === 'complete'"
              (click)="playConsonantAudio()"
            >
              <mat-card-content>
                <div class="equation-text">{{ currentEquation.consonant }}</div>
              </mat-card-content>
            </mat-card>

            <!-- Plus symbol -->
            <div class="symbol" [class.active]="currentStep === 'vowel' || currentStep === 'result' || currentStep === 'complete'">+</div>

            <!-- Vowel -->
            <mat-card
              class="equation-card vowel-card"
              (click)="playVowelAudio()"
            >
              <mat-card-content>
                <div class="equation-text vowel-text">{{ currentEquation.vowel }}</div>
              </mat-card-content>
            </mat-card>

            <!-- Equals symbol -->
            <div class="symbol" [class.active]="currentStep === 'result' || currentStep === 'complete'">=</div>

            <!-- Result -->
            <mat-card
              class="equation-card result-card"
              [class.active]="currentStep === 'result' || currentStep === 'complete'"
              [class.disabled]="currentStep === 'consonant' || currentStep === 'vowel'"
              (click)="playResultAudio()"
            >
              <mat-card-content>
                <div class="equation-text">
                  {{ (currentStep === 'result' || currentStep === 'complete') ? currentEquation.result : '?' }}
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>

        <!-- Romanization -->
        <div *ngIf="currentEquation.romanization && (currentStep === 'result' || currentStep === 'complete')" class="romanization">
          ({{ currentEquation.romanization }})
        </div>
      </div>

      <!-- Control buttons -->
      <div class="controls">
        <button
          mat-stroked-button
          (click)="handlePrevious()"
          [disabled]="currentEquationIndex === 0"
        >
          <mat-icon>navigate_before</mat-icon>
          Previous Equation
        </button>

        <button
          mat-raised-button
          color="primary"
          (click)="handlePlayCurrentAudio()"
          [disabled]="isPlaying"
        >
          <mat-icon>play_arrow</mat-icon>
          {{ isPlaying ? 'Playing...' : 'Replay Sound' }}
        </button>

        <button
          *ngIf="!isLastEquation"
          mat-raised-button
          color="accent"
          (click)="handleNext()"
        >
          Next Equation
          <mat-icon>navigate_next</mat-icon>
        </button>

        <button
          mat-stroked-button
          (click)="handleReset()"
        >
          <mat-icon>replay</mat-icon>
          Reset All
        </button>
      </div>

      <!-- Completion message -->
      <div *ngIf="currentStep === 'complete' && isLastEquation" class="completion-message">
        <h2>ЁЯОЙ Excellent! You've learned all Uyir-Mei combinations!</h2>
        <p>You now understand how consonants and vowels combine to form syllables in Tamil.</p>
      </div>

      <!-- Instructions -->
      <div class="instructions">
        <p>роорпЖропрпНропрпБроорпН роЙропро┐ро░рпБроорпН роЪрпЗро░рпНроирпНродрпБ роЙропро┐ро░рпНроорпЖропрпН роОро┤рпБродрпНродро╛роХрпБроорпН (Consonant + Vowel = Syllable)</p>
      </div>

      <audio #audioElement style="display: none;"></audio>
    </div>
  