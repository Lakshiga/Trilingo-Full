
    <div class="container" *ngIf="content; else invalidContent">
      <h2 class="instruction">சரியான விடையைத் தெரிவு செய்க</h2>

      <div class="equation-container" [class.correct]="isAnswered && isCorrect" [class.incorrect]="isAnswered && !isCorrect">
        <div class="equation-display">
          <span class="operand">{{ content.leftOperand }}</span>
          <span class="operator">+</span>
          <span class="operand">{{ content.rightOperand }}</span>
          <span class="operator">=</span>
          <div class="answer-box">
            <span class="answer" [class.correct-answer]="isAnswered && isCorrect" [class.incorrect-answer]="isAnswered && !isCorrect">
              {{ userAnswer || '?' }}
            </span>
          </div>
          <mat-icon 
            *ngIf="isAnswered" 
            [class.correct-icon]="isCorrect" 
            [class.incorrect-icon]="!isCorrect"
            class="result-icon"
          >
            {{ isCorrect ? 'check_circle' : 'cancel' }}
          </mat-icon>
        </div>
      </div>

      <div class="options-container">
        <mat-chip
          *ngFor="let option of content.options"
          [disabled]="isAnswered"
          (click)="handleOptionClick(option)"
          [class.selected]="userAnswer === option"
          class="option-chip"
        >
          {{ option }}
        </mat-chip>
      </div>

      <div *ngIf="isAnswered" class="actions">
        <button mat-stroked-button (click)="handleReset()" class="retry-button">
          <mat-icon>replay</mat-icon>
          Try Again
        </button>
      </div>
    </div>

    <ng-template #invalidContent>
      <div class="error-message">Invalid exercise content.</div>
    </ng-template>
  