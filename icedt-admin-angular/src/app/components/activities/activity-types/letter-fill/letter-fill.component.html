
    <div class="letter-fill-container">
      <h1 class="title">{{ content.title }}</h1>

      <mat-card class="instruction-card">
        <mat-card-content>
          <h2 class="activity-title">{{ content.activityTitle }}</h2>
          <p class="instruction-text">{{ content.instruction }}</p>
        </mat-card-content>
      </mat-card>

      <!-- Sentences with blanks -->
      <div class="sentences-section">
        <div *ngFor="let sentence of content.sentences; let i = index" class="sentence-card">
          <div class="sentence-content">
            <span
              *ngFor="let part of getSentenceParts(sentence); let idx = index"
              class="sentence-part"
            >
              <span *ngIf="!isBlank(part)" class="text-part">{{ part }}</span>
              <mat-chip
                *ngIf="isBlank(part)"
                class="blank-chip"
                [class.active]="activeSentenceIndex === i"
                [class.correct]="isSubmitted && results[i]"
                [class.incorrect]="isSubmitted && !results[i]"
                (click)="setActiveSentence(i)"
              >
                <mat-icon *ngIf="isSubmitted" class="result-icon">
                  {{ results[i] ? 'check_circle' : 'cancel' }}
                </mat-icon>
                {{ answers[i] || '          ' }}
              </mat-chip>
            </span>
          </div>
        </div>
      </div>

      <!-- Word bank -->
      <div class="word-bank-section">
        <h3 class="word-bank-title">ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпН:</h3>
        <div class="options-grid">
          <mat-chip
            *ngFor="let option of content.options"
            class="option-chip"
            (click)="handleOptionSelect(option)"
            [disabled]="allCorrect"
          >
            {{ option }}
          </mat-chip>
        </div>
      </div>

      <!-- Action Buttons and Status Message -->
      <div class="controls">
        <button
          *ngIf="!isSubmitted"
          mat-raised-button
          color="accent"
          (click)="handleSubmit()"
          [disabled]="getAnswersCount() !== content.sentences.length"
        >
          роЪрооро░рпНрокрпНрокро┐роХрпНроХро╡рпБроорпН
        </button>

        <div *ngIf="isSubmitted && !allCorrect" class="error-section">
          <p class="error-message">роЪро┐ро▓ рокродро┐ро▓рпНроХро│рпН родро╡ро▒ро╛ройро╡рпИ. роорпАрогрпНроЯрпБроорпН роорпБропро▓ро╡рпБроорпН!</p>
          <button mat-raised-button color="primary" (click)="handleRetry()">
            роорпАрогрпНроЯрпБроорпН роорпБропро▓ро╡рпБроорпН
          </button>
        </div>

        <div *ngIf="allCorrect" class="success-message">
          ЁЯОЙ роиройрпНро▒рпБ! роОро▓рпНро▓ро╛ рокродро┐ро▓рпНроХро│рпБроорпН роЪро░ро┐ропро╛ройро╡рпИ! ЁЯОЙ
        </div>
      </div>
    </div>
  