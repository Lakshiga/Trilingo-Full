
    <div class="scene-builder-container">
      <h1 class="title">{{ content.title }}</h1>

      <!-- Instruction Bar -->
      <mat-card class="instruction-card">
        <mat-card-content>
          <div *ngIf="isComplete; else instructionContent" class="completion-message">
            <mat-icon>check_circle</mat-icon>
            Excellent! You have completed the scene.
          </div>
          <ng-template #instructionContent>
            <div class="instruction-content">
              <button mat-icon-button (click)="playCurrentInstruction()" class="audio-button">
                <mat-icon>volume_up</mat-icon>
              </button>
              <span class="instruction-text">{{ currentInstruction?.text }}</span>
            </div>
          </ng-template>
        </mat-card-content>
      </mat-card>

      <div *ngIf="feedback" class="feedback-message" [class.success]="feedback.type === 'success'" [class.error]="feedback.type === 'error'">
        {{ feedback.message }}
      </div>

      <!-- Main Scene Area -->
      <div class="scene-area">
        <img [src]="content.sceneImageUrl" alt="Main scene" class="scene-image" />

        <!-- Render Drop Zones -->
        <div
          *ngFor="let zone of content.dropZones"
          class="drop-zone"
          [style.left.%]="zone.x"
          [style.top.%]="zone.y"
          [style.width.%]="zone.width"
          [style.height.%]="zone.height"
          (dragover)="onDragOver($event)"
          (drop)="onDrop($event, zone.id)"
        ></div>

        <!-- Render Placed Objects -->
        <img
          *ngFor="let entry of getPlacedObjects()"
          [src]="entry.object.imageUrl"
          [alt]="entry.object.name"
          class="placed-object"
          [style.left.%]="entry.zone.x"
          [style.top.%]="entry.zone.y"
          [style.width.%]="entry.zone.width"
          [style.height.%]="entry.zone.height"
        />
      </div>

      <!-- Draggable Objects Pool -->
      <mat-card class="objects-pool">
        <mat-card-content>
          <div class="objects-grid">
            <img
              *ngFor="let obj of availableObjects"
              [src]="obj.imageUrl"
              [alt]="obj.name"
              class="draggable-object"
              draggable="true"
              (dragstart)="onDragStart($event, obj.id)"
            />
          </div>
        </mat-card-content>
      </mat-card>

      <div *ngIf="isComplete" class="controls">
        <button mat-raised-button (click)="handleReset()">
          <mat-icon>replay</mat-icon>
          Start Over
        </button>
      </div>

      <audio #audioElement style="display: none;"></audio>
    </div>
  