
    <div class="container" *ngIf="content; else loadingContent">
      <h1 class="title">{{ content.title }}</h1>

      <div class="instruction-panel">
        <h2 class="activity-title">{{ content.activityTitle }}</h2>
        <p class="instruction">{{ content.instruction }}</p>
      </div>

      <h3 class="words-title">роЗро┤рпБроХрпНроХ ро╡рпЗрогрпНроЯро┐роп роЪрпКро▒рпНроХро│рпН</h3>
      <div 
        class="word-pool"
        (dragover)="onDragOver($event)"
        (drop)="onDropToPool($event)"
      >
        <mat-chip
          *ngFor="let word of wordPool"
          [draggable]="!allCorrect"
          (dragstart)="onDragStart($event, word)"
          class="word-chip"
          [class.disabled]="allCorrect"
        >
          {{ word.text }}
        </mat-chip>
        <p *ngIf="wordPool.length === 0" class="empty-message">
          роЕройрпИродрпНродрпБ роЪрпКро▒рпНроХро│рпБроорпН роироХро░рпНродрпНродрокрпНрокроЯрпНроЯрпБро╡ро┐роЯрпНроЯрой.
        </p>
      </div>

      <div class="categories-grid">
        <div
          *ngFor="let category of content.categories"
          class="category-card"
          (dragover)="onDragOver($event)"
          (drop)="onDropToCategory($event, category.id)"
        >
          <h3 class="category-title">{{ category.title }}</h3>
          <div class="category-words">
            <mat-chip
              *ngFor="let word of droppedWords[category.id]"
              [draggable]="!allCorrect"
              (dragstart)="onDragStart($event, word)"
              class="word-chip"
              [class.correct]="isSubmitted && results[word.id] === true"
              [class.incorrect]="isSubmitted && results[word.id] === false"
              [class.disabled]="allCorrect"
            >
              {{ word.text }}
            </mat-chip>
          </div>
        </div>
      </div>

      <div class="actions">
        <button
          *ngIf="!isSubmitted"
          mat-raised-button
          color="primary"
          (click)="handleSubmit()"
          [disabled]="wordPool.length > 0"
          class="submit-button"
        >
          роЪрооро░рпНрокрпНрокро┐роХрпНроХро╡рпБроорпН
        </button>

        <div *ngIf="isSubmitted && !allCorrect" class="retry-section">
          <p class="error-message">роЪро┐ро▓ рокродро┐ро▓рпНроХро│рпН родро╡ро▒ро╛ройро╡рпИ. роорпАрогрпНроЯрпБроорпН роорпБропро▓ро╡рпБроорпН!</p>
          <button
            mat-raised-button
            color="accent"
            (click)="handleRetry()"
            class="retry-button"
          >
            роорпАрогрпНроЯрпБроорпН роорпБропро▓ро╡рпБроорпН
          </button>
        </div>

        <div *ngIf="allCorrect" class="success-message">
          ЁЯОЙ роиройрпНро▒рпБ! роОро▓рпНро▓ро╛ рокродро┐ро▓рпНроХро│рпБроорпН роЪро░ро┐ропро╛ройро╡рпИ! ЁЯОЙ
        </div>
      </div>
    </div>

    <ng-template #loadingContent>
      <div class="loading-message">роЪрпЖропро▓рпНрокро╛роЯрпБ роПро▒рпНро▒рпБроХро┐ро▒родрпБ...</div>
    </ng-template>
  