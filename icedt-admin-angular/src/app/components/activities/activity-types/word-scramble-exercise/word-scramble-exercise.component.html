
    <div class="word-scramble-container">
      <h1 class="title">{{ content.title }}</h1>

      <mat-card class="instruction-card">
        <mat-card-content>
          <h2 class="activity-title">{{ content.activityTitle }}</h2>
          <p class="instruction-text">{{ content.instruction }}</p>
        </mat-card-content>
      </mat-card>
      
      <div *ngFor="let word of currentWords; let index = index" class="word-exercise">
        <mat-card class="word-card">
          <mat-card-content>
            <h3 class="question-title">роХрпЗро│рпНро╡ро┐ {{ currentPage * wordsPerPage + index + 1 }}</h3>
            
            <!-- Answer Area -->
            <div 
              class="answer-area"
              [class.incorrect]="submitted && feedbacks[word.id] === 'incorrect'"
              [class.correct]="submitted && feedbacks[word.id] === 'correct'"
            >
              <mat-chip
                *ngFor="let letter of answers[word.id]; let i = index"
                class="answer-chip"
                (click)="handleAnswerLetterClick(word.id, letter, i)"
                [style.cursor]="submitted ? 'default' : 'pointer'"
              >
                {{ letter }}
              </mat-chip>
            </div>
            
            <!-- Letter Bank -->
            <div class="letter-bank">
              <mat-chip
                *ngFor="let letter of remainingLetters[word.id]; let i = index"
                class="letter-chip"
                (click)="handleLetterClick(word.id, letter, i)"
                [style.cursor]="submitted ? 'default' : 'pointer'"
              >
                {{ letter }}
              </mat-chip>
            </div>

            <!-- Feedback per word -->
            <div *ngIf="submitted" class="feedback" [class.correct-feedback]="feedbacks[word.id] === 'correct'" [class.incorrect-feedback]="feedbacks[word.id] === 'incorrect'">
              <div *ngIf="feedbacks[word.id] === 'correct'" class="correct-message">
                <mat-icon>check_circle</mat-icon>
                роЪро░ро┐ропро╛роХроЪрпН роЪрпЖропрпНродрпАро░рпНроХро│рпН!
              </div>
              <div *ngIf="feedbacks[word.id] === 'incorrect'" class="incorrect-message">
                <mat-icon>cancel</mat-icon>
                родро╡ро▒ро╛рой рокродро┐ро▓рпН
                <p class="correct-answer">роЪро░ро┐ропро╛рой рокродро┐ро▓рпН: <strong>{{ word.solution }}</strong></p>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      
      <!-- Global Controls -->
      <div class="controls">
        <button
          *ngIf="!submitted"
          mat-raised-button
          color="primary"
          (click)="checkCurrentPageAnswers()"
        >
          роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН
        </button>

        <button
          *ngIf="submitted && !allCorrectOnPage"
          mat-raised-button
          color="accent"
          (click)="resetCurrentPage()"
        >
          роорпАрогрпНроЯрпБроорпН роорпБропро▓ро╡рпБроорпН
        </button>
        
        <button
          *ngIf="allCorrectOnPage && !isLastPage"
          mat-raised-button
          color="accent"
          (click)="handleNextPage()"
        >
          роЕроЯрпБродрпНродрпБ
          <mat-icon>arrow_forward</mat-icon>
        </button>

        <div *ngIf="allCorrectOnPage && isLastPage" class="completion-message">
          ЁЯОЙ ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН! роирпАроЩрпНроХро│рпН роОро▓рпНро▓ро╛ро╡ро▒рпНро▒рпИропрпБроорпН роЪро░ро┐ропро╛роХ роорпБроЯро┐родрпНродрпБро╡ро┐роЯрпНроЯрпАро░рпНроХро│рпН! ЁЯОЙ
        </div>
      </div>
    </div>
  