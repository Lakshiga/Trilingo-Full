
    <div class="multi-drag-drop-fill-in-blank">
      <div class="header">
        <h1>{{ content.title }}</h1>
        <button mat-button (click)="handleReset()">Reset</button>
      </div>
      
      <p class="instruction">
        சரியான சொற்களை இழுத்து இடைவெளிகளை நிரப்படுக (Drag the correct words to fill the blanks)
      </p>
      
      <!-- The Sentence/Prompt Area -->
      <div class="prompt-area">
        <div 
          *ngFor="let segment of content.promptSegments; let i = index"
          class="segment"
          [class.blank]="segment.type === 'blank'"
          [class.correct]="isComplete && isBlankCorrect(segment.content)"
          [class.incorrect]="showWrong && isBlankIncorrect(segment.content)"
          (dragover)="onDragOver($event)"
          (drop)="onDrop($event, segment.content)"
          *ngIf="segment.type === 'blank'">
          <span>{{ getDroppedText(segment.content) || '...........' }}</span>
        </div>
        <span 
          *ngFor="let segment of content.promptSegments; let i = index"
          *ngIf="segment.type === 'text'"
          class="text-segment">
          {{ segment.content }}
        </span>
      </div>
      
      <!-- Draggable Choices Pool -->
      <h3>Choices</h3>
      <div class="choices-pool">
        <div 
          *ngFor="let choice of availableChoices" 
          class="choice-item"
          [draggable]="true"
          (dragstart)="onDragStart($event, choice)">
          {{ choice.text }}
        </div>
      </div>
      
      <!-- Feedback -->
      <div class="feedback" *ngIf="showWrong">
        <div class="error-message">
          சில பதில்கள் தவறாக உள்ளன — தயவுசெய்து தவறான சொற்களை சரி செய்யவும்.
        </div>
        <button mat-raised-button color="accent" (click)="handleTryAgain()">
          மீண்டும் முயற்சி செய்
        </button>
      </div>
      
      <div class="success-message" *ngIf="isComplete">
        மிகச் சரி! நீங்கள் இறுதி செய்தீர்கள் — வாழ்த்துகள்!
      </div>
    </div>
  